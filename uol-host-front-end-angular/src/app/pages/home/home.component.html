<main class="main">
    <section class="registration-container">
        <div class="registration-form">
            <form [formGroup]="form" (ngSubmit)="registerPlayer()">
                <div class="registration-title-form">
                    <span>Cadastro do jogador UOL</span>
                </div>
                @if (messageRequest !== "") {
                    <div class="ok-message">
                        <span>{{ messageRequest }}</span>
                    </div>
                } @else if (messageErrorRequest !== "") {
                    <div class="error-message">
                        <span>{{ messageErrorRequest }}</span>
                    </div>
                }
                <div class="registration-body-form">
                    <div class="registration-input-form">
                        <label for="">Nome:</label>
                        <input type="text" formControlName="name">

                        @if (form.get('name')?.errors || form.get('name')?.touched) {
                            @for (item of loadErrorsForm('name'); track item.id) {
                                <div class="error-message">
                                    <span> {{ item.description }}</span>
                                </div>
                            }
                        }
                    </div>
                    <div class="registration-input-form">
                        <label for="">Email:</label>
                        <input type="email" formControlName="email">

                        @if (form.get('email')?.errors || form.get('email')?.touched) {
                            @for (item of loadErrorsForm('email'); track item.id) {
                                <div class="error-message">
                                    <span> {{ item.description }}</span>
                                </div>
                            }
                        }
                    </div>
                    <div class="registration-input-form">
                        <label for="">Telefone:</label>
                        <input type="tel" formControlName="telephone">
                    </div>
                    <div class="registration-input-form">
                        <span>Quero ser do grupo:</span>
                        <div class="registration-groups-form">
                            <div>
                                <input type="radio" formControlName="group" name="group" value="justice_league">
                                <span>Liga da Justi√ßa</span>
                            </div>
                           <div>
                                <input type="radio" formControlName="group" name="group" value="avengers">
                                <span>Os vingadores</span>
                           </div>
                        </div>

                        @if (form.get('group')?.errors || form.get('group')?.touched) {
                            @for (item of loadErrorsForm('group'); track item.id) {
                                <div class="error-message">
                                    <span> {{ item.description }}</span>
                                </div>
                            }
                        }
                    </div>
                </div>
                <div class="registration-foot-form">
                    <button type="submit">Cadastrar</button>
                    <button type="button" (click)="goToPlayersList()">Listar jogadores</button>
                </div>
            </form>
        </div>
    </section>
</main>